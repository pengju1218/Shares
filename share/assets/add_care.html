<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>FrozenUI Demo</title>

    <script type="text/javascript" src="js/calender2.js"></script>
    <link rel="stylesheet" href="css/frozen.css">
    <link rel="stylesheet" href="css/demo.css">

    <script type="text/javascript" src="js/msg.js"></script>
    <script src="js/zepto.min.js"></script>
    <script src="js/frozen.js"></script>
    <style>



.containter{width:320px;margin:auto}.calender-wrap{-webkit-animation:clafade .3s ease;-moz-animation:clafade .3s ease;animation:clafade .3s ease;padding:5px;background:#fff;width:240px;box-shadow:0 5px 10px rgba(0,0,0,0.2);border-radius:4px;position:relative;font-family:"Microsoft yahei";position:absolute;z-index:1000}.calender-wrap{border:1px solid #e2e2e2}.calender-wrap:after{content:'';display:inline-block;border-left:7px solid transparent;border-right:7px solid transparent;border-bottom:7px solid #eee;border-top:0;border-bottom-color:#d7d7d7;position:absolute;left:9px;top:-7px}.calender-wrap:before{content:'';display:inline-block;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #ffffff;border-top:0;position:absolute;left:10px;top:-6px;z-index:10}.calender-caption{height:35px;border-bottom:1px solid #ddd;z-index:2;background:#eee}.calender-content{position:relative;overflow:hidden}.calender-content:after{content:'';display:block;clear:both}.calender-cell{cursor:pointer;float:left;width:14.28571428%;height:35px;text-align:center;line-height:35px;font-size:12px;color:#000;z-index:1;border-bottom:1px solid #eee}.calender-cell:hover{background:#eee}.calender-caption .calender-cell:hover{background:none}.calender-cell-dark{cursor:no-drop;color:#b9b9b9}.calender-caption .calender-cell{height:35px;line-height:35px;font-size:13px;color:#111;font-weight:bold}.calender-header{text-align:center;line-height:35px;text-align:center;color:#888;padding-bottom:4px;margin-bottom:1px;background:#fff;position:relative;border-bottom:1px solid #e6e6e6;font-size:14px}#calender-prev,#calender-next{text-decoration:none;display:block;width:14.2857%;height:35px;background:#fff;position:absolute;left:0%;top:0px;font-family:'宋体';font-size:14px;color:#555}#calender-prev,#calender-next{color:#999;font-size:16px}#calender-prev:hover,#calender-next:hover{background:#eee;border-radius:5px;color:#222}#calender-next{left:auto;right:0%}#calender-year,#calender-mon{cursor:pointer;padding:2px 4px;border-radius: 3px; margin:0 3px;}#calender-year:hover,#calender-mon:hover{background:#eee}.calender-list{overflow:hidden}.calender-list2,.calender-list3{display:none}.calender-year-cell,.calender-mon-cell{width:32.41%;float:left;border-radius:4px;text-align:center;font-size:12px;padding:15px 0;border:1px solid #fff}.calender-year-cell:hover,.calender-mon-cell:hover{background:#eee;cursor:pointer}.calender-cell.active,.calender-year-cell.active,.calender-mon-cell.active{background:#23acf1;color:#fff}.calender-cell.active:hover,.calender-year-cell.active:hover,.calender-mon-cell.active:hover{background:#23acf1;color:#fff}.calender-button{border-top:1px solid #eee;width:100%;margin-top:-1px;padding:7px 0px 2px 0;overflow:hidden}.calender-button a{display:block;text-align:center;padding:0px 15px;height: 25px; line-height: 25px; float:right;background:#23acf1;color:#fff;margin-right:5px;cursor:pointer;margin-left:5px;font-size:12px;text-decoration:none}.calender-button a:hover{background:#0084c9}.calender-wrap.year .calender-list,.calender-wrap.month .calender-list{display:none}.calender-wrap.year .calender-list2{display:block}.calender-wrap.month .calender-list3{display:block}@keyframes clafade{0%{transform:scale(0.95);opacity:0}100%{transform:scale(1);opacity:1}}@-webkit-keyframes clafade{0%{-webkit-transform:scale(0.95);opacity:0}100%{-webkit-transform:scale(1);opacity:1}}


    </style>

</head>

<body ontouchstart onload="edit()">
<header class="ui-header ui-header-positive ui-border-b">
    <!--<i class="ui-icon-return" onclick="history.back()"></i>--><h1>关注的股票 </h1>
</header>
<footer class="ui-footer ui-footer-btn">
    <ul class="ui-tiled ui-border-t">
        <li data-href="index.html" class="ui-border-r">
            <div>首页</div>
        </li>
        <li data-href="add.html" class="ui-border-r">
            <div>添加</div>
        </li>

        <li data-href="add_care.html" class="ui-border-r">
            <div>关注</div>
        </li>
        <!--<li data-href="js.html"><div>JS插件</div></li>-->
    </ul>
</footer>
<section class="ui-container">

    <form action="#">
        <div class="ui-form-item ui-border-b">
            <label>
                代码
            </label>
            <input id='code' style="margin-left:-0.5rem;" type="number" placeholder="输入股票代码"/>

        </div>

        <div class="ui-form-item ui-border-b">
            <label>
                名称
            </label>
            <input id='name' type="text" style="margin-left:-0.5rem;" placeholder="输入股票名称"/>

        </div>


        <div class="ui-form-item ui-form-item-textarea ui-border-b">
            <label>
                备注
            </label>
            <textarea id='remark' style="margin-left:-0.5rem;" rows="3"
                      placeholder="输入股票备注"></textarea>
        </div>
        <div   style="padding-bottom:0.1rem;"  class="ui-form-item ui-border-b">

            <div  align="center" class="ui-btn-wrap">
                <button class="ui-btn-s ui-btn-primary button1">
                    添加
                </button>


                <button class="ui-btn-s ui-btn-primary button2">
                    更新
                </button>
            </div>

        </div>

    </form>


</section><!-- /.ui-container-->
<script>
        $('.ui-list li,.ui-tiled li').click(function(){
            if($(this).data('href')){
                location.href= $(this).data('href');
            }
        });
        $('.ui-header .ui-btn').click(function(){
            location.href= 'index.html';
        });






         $('.button1').click(function(){
var jsObj = {};
jsObj.code = document.getElementById("code").value;
jsObj.name = document.getElementById("name").value;
jsObj.remark = document.getElementById("remark").value;
jsObj.id=0;

var str = JSON.stringify(jsObj);
                    if(jsObj.code.length==0||jsObj.name.length==0||jsObj.remark.length==0){
msg.tips("表单不能为空");

                    }else{
                       window.SM.UpdateCare(str);
                    }
        });



$('.button2').click(function(){
var jsObj = {};
jsObj.code = document.getElementById("code").value;
jsObj.name = document.getElementById("name").value;
jsObj.remark = document.getElementById("remark").value;
jsObj.id=0;
var str = JSON.stringify(jsObj);
window.SM.UpdateCare2(str);

 });








function edit(){

var myurl=GetQueryString("code");
if(myurl !=null && myurl.toString().length>1)
{
   //alert(myurl);


var code = document.getElementById("code");
var name= document.getElementById("name");
var remark = document.getElementById("remark");

var obj = JSON.parse(unescape(myurl));
code.value=obj.code;
name.value=obj.name;
remark.value=obj.remark;



}


}


function GetQueryString(name)
{
     var reg = new RegExp("(^|&)"+ name +"=([^&]*)(&|$)");
     var r = window.location.search.substr(1).match(reg);
     if(r!=null)return  unescape(r[2]); return null;
}




</script>
</body>
</html>